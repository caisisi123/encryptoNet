(function(c,f){typeof exports=="object"&&typeof module<"u"?f(exports):typeof define=="function"&&define.amd?define(["exports"],f):(c=typeof globalThis<"u"?globalThis:c||self,f(c.cryptoNet={}))})(this,function(c){var f,h,A=(r,t,e)=>{if(!t.has(r))throw TypeError("Cannot "+e)},y=(r,t,e)=>(A(r,t,"read from private field"),e?e.call(r):t.get(r)),b=(r,t,e)=>{if(t.has(r))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(r):t.set(r,e)};function w(r){const t=C(r);return T(t)}function g(r){const t=k(r);return B(t)}function U(r){return r>64&&r<91?r-65:r>96&&r<123?r-71:r>47&&r<58?r+4:r===43?62:r===47?63:0}function k(r,t){const e=r.replace(/[^A-Za-z0-9+/]/g,""),s=e.length,n=t?Math.ceil((s*3+1>>2)/t)*t:s*3+1>>2,a=new Uint8Array(n);let i,u,o=0,l=0;for(let d=0;d<s;d++)if(u=d&3,o|=U(e.charCodeAt(d))<<6*(3-u),u===3||s-d===1){for(i=0;i<3&&l<n;)a[l]=o>>>(16>>>i&24)&255,i++,l++;o=0}return a}function p(r){return r<26?r+65:r<52?r+71:r<62?r-4:r===62?43:r===63?47:65}function T(r){let t=2,e="";const s=r.length;let n=0;for(let a=0;a<s;a++)t=a%3,n|=r[a]<<(16>>>t&24),(t===2||r.length-a===1)&&(e+=String.fromCodePoint(p(n>>>18&63),p(n>>>12&63),p(n>>>6&63),p(n&63)),n=0);return e.substring(0,e.length-2+t)+(t===2?"":t===1?"=":"==")}function B(r){let t="",e;const s=r.length;for(let n=0;n<s;n++)e=r[n],t+=String.fromCodePoint(e>251&&e<254&&n+5<s?(e-252)*1073741824+(r[++n]-128<<24)+(r[++n]-128<<18)+(r[++n]-128<<12)+(r[++n]-128<<6)+r[++n]-128:e>247&&e<252&&n+4<s?(e-248<<24)+(r[++n]-128<<18)+(r[++n]-128<<12)+(r[++n]-128<<6)+r[++n]-128:e>239&&e<248&&n+3<s?(e-240<<18)+(r[++n]-128<<12)+(r[++n]-128<<6)+r[++n]-128:e>223&&e<240&&n+2<s?(e-224<<12)+(r[++n]-128<<6)+r[++n]-128:e>191&&e<224&&n+1<s?(e-192<<6)+r[++n]-128:e);return t}function C(r){let t,e;const s=r.length;let n=0;for(let u=0;u<s;u++)e=r.codePointAt(u),e>=65536&&u++,n+=e<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6;t=new Uint8Array(n);let a=0,i=0;for(;a<n;)e=r.codePointAt(i),e<128?t[a++]=e:e<2048?(t[a++]=192+(e>>>6),t[a++]=128+(e&63)):e<65536?(t[a++]=224+(e>>>12),t[a++]=128+(e>>>6&63),t[a++]=128+(e&63)):e<2097152?(t[a++]=240+(e>>>18),t[a++]=128+(e>>>12&63),t[a++]=128+(e>>>6&63),t[a++]=128+(e&63),i++):e<67108864?(t[a++]=248+(e>>>24),t[a++]=128+(e>>>18&63),t[a++]=128+(e>>>12&63),t[a++]=128+(e>>>6&63),t[a++]=128+(e&63),i++):(t[a++]=252+(e>>>30),t[a++]=128+(e>>>24&63),t[a++]=128+(e>>>18&63),t[a++]=128+(e>>>12&63),t[a++]=128+(e>>>6&63),t[a++]=128+(e&63),i++),i++;return t}function I(r,t){return new Promise((e,s)=>{const n=new FileReader;switch(n.addEventListener("loadend",a=>{if(n.error)s(n.error);else switch(t){case"url":e(URL.createObjectURL(r));break;case"text":e(n.result);break;case"stream":e(r.stream());break;case"arrayBuffer":e(n.result);break;case"dataUrl":e(n.result);default:e(null);break}}),t){case"url":n.readAsDataURL(r);break;case"text":n.readAsText(r);break;case"stream":n.readAsBinaryString(r);break;case"arrayBuffer":n.readAsArrayBuffer(r);break;case"dataUrl":n.readAsDataURL(r);break;default:e(null);break}})}function O(r,t,e){const s=new DataView(r);switch(t){case"string":return new TextDecoder(e.decodeType||"utf-8").decode(r);case"blob":return new Blob([r],{type:e.blobType||""});case"url":return URL.createObjectURL(new Blob([r]));case"dataView":return s;case"int8":return new Int8Array(r);case"int16":return new Int16Array(r);case"int32":return new Int32Array(r);case"uint8":return new Uint8Array(r);case"uint16":return new Uint16Array(r);case"uint32":return new Uint32Array(r);case"float32":return new Float32Array(r);case"float64":return new Float64Array(r);default:return null}}function F(r,t,{type:e}){if(t==="blob")return new Blob([r],{type:e});if(t==="arraybuffer")return new ArrayBuffer(r);if(t==="TypedArray")switch(e){case"Int8Array":return Int8Array.from(r);case"Uint8Array":return Uint8Array.from(r);case"Uint8ClampedArray":return Uint8ClampedArray.from(r);case"Int16Array":return Int16Array.from(r);case"Uint16Array":return Uint16Array.from(r);case"Int32Array":return Int32Array.from(r);case"Uint32Array":return Uint32Array.from(r);case"Float32Array":return Float32Array.from(r);case"Float64Array":return Float64Array.from(r);case"BigInt64Array":return BigInt64Array.from(r);case"BigUint64Array":return BigUint64Array.from(r);default:return Uint8Array.from(r)}else return Uint8Array.from(r)}function L(r,t){let e;switch(t){case"base64":e=w(r);break;case"ascii":e="";for(let n=0;n<r.length;n++){const a=r.charCodeAt(n).toString(2);e+=a.padStart(8,"0")}break;case"utf8":const s=new TextEncoder().encode(r);e=String.fromCharCode.apply(null,s);break;case"gbk":e=unescape(encodeURIComponent(r));break;case"utf16":e="";for(let n=0;n<r.length;n++){const a=r.charCodeAt(n).toString(16);e+=a.padStart(4,"0")}break;default:e=r}return e}function E(r,t,e,s,n){let a;switch(r){case"generate":a=crypto.subtle.generateKey(t,e,s);break;case"derive":a=crypto.subtle.deriveKey(n.deriveAlgorithm,n.baseKey,t,e,s);break;case"unwrap":a=crypto.subtle.unwrapKey(n.format,n.wrappedKey,n.unwrappingKey,t,e,s);break;case"import":a=crypto.subtle.importKey(n.format,n.keyData,t,e,s);break;default:throw new Error(`Invalid method: ${r}`)}return a}function S(r,t,e,s){let n=r;if(!ArrayBuffer.isView(n))if(s.format)switch(s.format){case"arrayBuffer":n=new ArrayBuffer(n.length);const a=new DataView(n);for(let o=0;o<n.byteLength;o++)a.setInt8(o,n[o]);break;case"typedArray":n=Uint8Array.from(n);break;case"DataView":const i=new ArrayBuffer(n.length),u=new DataView(i);for(let o=0;o<n.byteLength;o++)u.setInt8(o,n[o]);n=u}else n=Uint8Array.from(n);return window.crypto.subtle.encrypt(t,e,n)}function v(r,t,e){return window.crypto.subtle.decrypt(t,e,r)}function j(r,t,e){return ArrayBuffer.isView(r)||(r=Uint8Array.from(r)),window.crypto.subtle.sign(t,e,r)}function D(r,t,e,s){return window.crypto.subtle.verify(e,s,t,r)}function R(r,t){return ArrayBuffer.isView(t)||(t=Uint8Array.from(t)),window.crypto.subtle.digest(r,t)}function P(r,t){return new Proxy(fetch,{apply(e,s,n){return r.request&&r.request.apply(s,n),e(...n).then(a=>{a.status>=200&&a.status<300?t.response&&t.response.apply(s,a):t.error&&t.error(s,a)}).catch(a=>{r.error&&r.error(a)})}})}class m{static mFetch(t,e){return P(y(this,h),y(this,f))(t,e)}static get(t,e){return this.mFetch(t,Object.assign({method:"GET"},e))}static post(t,e){return this.mFetch(t,Object.assign({method:"POST"},e))}static put(t,e){return this.mFetch(t,Object.assign({method:"PUT"},e))}static delete(t,e){return this.mFetch(t,Object.assign({method:"DELETE"},e))}static patch(t,e){return this.mFetch(t,Object.assign({method:"PATCH"},e))}static options(t,e){return this.mFetch(t,Object.assign({method:"OPTIONS"},e))}static head(t,e){return this.mFetch(t,Object.assign({method:"HEAD"},e))}static trace(t,e){return this.mFetch(t,Object.assign({method:"TRACE"},e))}static connect(t,e){return this.mFetch(t,Object.assign({method:"CONNECT"},e))}static requestInterception(t,e){y(this,h).request=t,y(this,h).error=e}static responseInterception(t,e){y(this,f).response=t,y(this,f).error=e}}f=new WeakMap,h=new WeakMap,b(m,f,{}),b(m,h,{});function x(r){window.addEventListener("DOMContentLoaded",()=>{const t=document.createElement("script");t.src=r,t.async=!0,document.head.appendChild(t)})}function K(r,{crossOrigin:t}){window.requestIdleCallback(()=>{const e=document.createElement("link");switch(e.href=r,e.rel="prefetch",new URL(r,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("cryptoNet.umd.js",document.baseURI).href).host!==document.location.host&&(e.crossOrigin=t||"use-credentials"),r.split(".").pop()){case"css":e.as="style";break;case"png":e.as="image";break;default:e.as="fetch"}document.head.appendChild(e)})}function V(r,t,e,s){return new Promise((n,a)=>{const i=document.querySelector(r);function u(o){let l=null;return function(){clearTimeout(l),l=setTimeout(o,e)}}i.addEventListener("scroll",u(function(){const{scrollTop:o,offsetHeight:l,scrollHeight:d}=div;o+l>d-t&&n(!0)}))})}c.Axios=m,c.base64ToUtf16=g,c.decry=v,c.encodeData=L,c.encodeToBinary=F,c.encry=S,c.generateDigest=R,c.getEncryKey=E,c.preLoadScript=x,c.prefetchAsset=K,c.readArrayBuffer=O,c.readBlob=I,c.scrollLoad=V,c.sign=j,c.utf16ToBase64=w,c.verify=D,Object.defineProperty(c,Symbol.toStringTag,{value:"Module"})});
