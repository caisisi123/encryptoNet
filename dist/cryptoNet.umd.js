(function(o,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(o=typeof globalThis<"u"?globalThis:o||self,u(o.cryptoNet={}))})(this,function(o){var h,m;"use strict";var v=(o,u,d)=>{if(!u.has(o))throw TypeError("Cannot "+d)};var A=(o,u,d)=>(v(o,u,"read from private field"),d?d.call(o):u.get(o)),g=(o,u,d)=>{if(u.has(o))throw TypeError("Cannot add the same private member more than once");u instanceof WeakSet?u.add(o):u.set(o,d)};function u(t){const r=L(t);return T(r)}function d(t){const r=U(t);return k(r)}function b(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0}function U(t,r){const e=t.replace(/[^A-Za-z0-9+/]/g,""),i=e.length,n=r?Math.ceil((i*3+1>>2)/r)*r:i*3+1>>2,c=new Uint8Array(n);let a,f,s=0,l=0;for(let y=0;y<i;y++)if(f=y&3,s|=b(e.charCodeAt(y))<<6*(3-f),f===3||i-y===1){for(a=0;a<3&&l<n;)c[l]=s>>>(16>>>a&24)&255,a++,l++;s=0}return c}function w(t){return t<26?t+65:t<52?t+71:t<62?t-4:t===62?43:t===63?47:65}function T(t){let r=2,e="";const i=t.length;let n=0;for(let c=0;c<i;c++)r=c%3,n|=t[c]<<(16>>>r&24),(r===2||t.length-c===1)&&(e+=String.fromCodePoint(w(n>>>18&63),w(n>>>12&63),w(n>>>6&63),w(n&63)),n=0);return e.substring(0,e.length-2+r)+(r===2?"":r===1?"=":"==")}function k(t){let r="",e;const i=t.length;for(let n=0;n<i;n++)e=t[n],r+=String.fromCodePoint(e>251&&e<254&&n+5<i?(e-252)*1073741824+(t[++n]-128<<24)+(t[++n]-128<<18)+(t[++n]-128<<12)+(t[++n]-128<<6)+t[++n]-128:e>247&&e<252&&n+4<i?(e-248<<24)+(t[++n]-128<<18)+(t[++n]-128<<12)+(t[++n]-128<<6)+t[++n]-128:e>239&&e<248&&n+3<i?(e-240<<18)+(t[++n]-128<<12)+(t[++n]-128<<6)+t[++n]-128:e>223&&e<240&&n+2<i?(e-224<<12)+(t[++n]-128<<6)+t[++n]-128:e>191&&e<224&&n+1<i?(e-192<<6)+t[++n]-128:e);return r}function L(t){let r,e;const i=t.length;let n=0;for(let f=0;f<i;f++)e=t.codePointAt(f),e>=65536&&f++,n+=e<128?1:e<2048?2:e<65536?3:e<2097152?4:e<67108864?5:6;r=new Uint8Array(n);let c=0,a=0;for(;c<n;)e=t.codePointAt(a),e<128?r[c++]=e:e<2048?(r[c++]=192+(e>>>6),r[c++]=128+(e&63)):e<65536?(r[c++]=224+(e>>>12),r[c++]=128+(e>>>6&63),r[c++]=128+(e&63)):e<2097152?(r[c++]=240+(e>>>18),r[c++]=128+(e>>>12&63),r[c++]=128+(e>>>6&63),r[c++]=128+(e&63),a++):e<67108864?(r[c++]=248+(e>>>24),r[c++]=128+(e>>>18&63),r[c++]=128+(e>>>12&63),r[c++]=128+(e>>>6&63),r[c++]=128+(e&63),a++):(r[c++]=252+(e>>>30),r[c++]=128+(e>>>24&63),r[c++]=128+(e>>>18&63),r[c++]=128+(e>>>12&63),r[c++]=128+(e>>>6&63),r[c++]=128+(e&63),a++),a++;return r}function I(t,r){return new Promise((e,i)=>{const n=new FileReader;switch(n.addEventListener("loadend",c=>{if(n.error)i(n.error);else switch(r){case"url":e(URL.createObjectURL(t));break;case"text":e(n.result);break;case"stream":e(t.stream());break;case"arrayBuffer":e(n.result);break;case"dataUrl":e(n.result);default:e(null);break}}),r){case"url":n.readAsDataURL(t);break;case"text":n.readAsText(t);break;case"stream":n.readAsBinaryString(t);break;case"arrayBuffer":n.readAsArrayBuffer(t);break;case"dataUrl":n.readAsDataURL(t);break;default:e(null);break}})}function F(t,r,e){const i=new DataView(t);switch(r){case"string":return new TextDecoder(e.decodeType||"utf-8").decode(t);case"blob":return new Blob([t],{type:e.blobType||""});case"url":return URL.createObjectURL(new Blob([t]));case"dataView":return i;case"int8":return new Int8Array(t);case"int16":return new Int16Array(t);case"int32":return new Int32Array(t);case"uint8":return new Uint8Array(t);case"uint16":return new Uint16Array(t);case"uint32":return new Uint32Array(t);case"float32":return new Float32Array(t);case"float64":return new Float64Array(t);default:return null}}function E(t,r,{type:e}){if(r==="blob")return new Blob([t],{type:e});if(r==="arraybuffer")return new ArrayBuffer(t);if(r==="TypedArray")switch(e){case"Int8Array":return Int8Array.from(t);case"Uint8Array":return Uint8Array.from(t);case"Uint8ClampedArray":return Uint8ClampedArray.from(t);case"Int16Array":return Int16Array.from(t);case"Uint16Array":return Uint16Array.from(t);case"Int32Array":return Int32Array.from(t);case"Uint32Array":return Uint32Array.from(t);case"Float32Array":return Float32Array.from(t);case"Float64Array":return Float64Array.from(t);case"BigInt64Array":return BigInt64Array.from(t);case"BigUint64Array":return BigUint64Array.from(t);default:return Uint8Array.from(t)}else return Uint8Array.from(t)}function S(t,r){let e;switch(r){case"base64":e=u(t);break;case"ascii":e="";for(let c=0;c<t.length;c++){const a=t.charCodeAt(c).toString(2);e+=a.padStart(8,"0")}break;case"utf8":const n=new TextEncoder().encode(t);e=String.fromCharCode.apply(null,n);break;case"gbk":e=unescape(encodeURIComponent(t));break;case"utf16":e="";for(let c=0;c<t.length;c++){const a=t.charCodeAt(c).toString(16);e+=a.padStart(4,"0")}break;default:e=t}return e}function D(t,r,e,i,n){let c;switch(t){case"generate":c=crypto.subtle.generateKey(r,e,i);break;case"derive":c=crypto.subtle.deriveKey(n.deriveAlgorithm,n.baseKey,r,e,i);break;case"unwrap":c=crypto.subtle.unwrapKey(n.format,n.wrappedKey,n.unwrappingKey,r,e,i);break;case"import":c=crypto.subtle.importKey(n.format,n.keyData,r,e,i);break;default:throw new Error(`Invalid method: ${t}`)}return c}function O(t,r,e,i){let n=t;if(!ArrayBuffer.isView(n))if(i.format)switch(i.format){case"arrayBuffer":n=new ArrayBuffer(n.length);const c=new DataView(n);for(let s=0;s<n.byteLength;s++)c.setInt8(s,n[s]);break;case"typedArray":n=Uint8Array.from(n);break;case"DataView":const a=new ArrayBuffer(n.length),f=new DataView(a);for(let s=0;s<n.byteLength;s++)f.setInt8(s,n[s]);n=f}else n=Uint8Array.from(n);return window.crypto.subtle.encrypt(r,e,n)}function P(t,r,e){return window.crypto.subtle.decrypt(r,e,t)}function R(t,r,e){return ArrayBuffer.isView(t)||(t=Uint8Array.from(t)),window.crypto.subtle.sign(r,e,t)}function C(t,r,e,i){return window.crypto.subtle.verify(e,i,r,t)}function j(t,r){return ArrayBuffer.isView(r)||(r=Uint8Array.from(r)),window.crypto.subtle.digest(t,r)}function B(t,r){return new Proxy(fetch,{apply(e,i,n){return t.request&&t.request.apply(i,n),e(...n).then(c=>{c.status>=200&&c.status<300?r.response&&r.response.apply(i,c):r.error&&r.error(i,c)}).catch(c=>{t.error&&t.error(c)})}})}class p{static mFetch(r,e){return B(A(this,m),A(this,h))(r,e)}static get(r,e){return this.mFetch(r,Object.assign({method:"GET"},e))}static post(r,e){return this.mFetch(r,Object.assign({method:"POST"},e))}static put(r,e){return this.mFetch(r,Object.assign({method:"PUT"},e))}static delete(r,e){return this.mFetch(r,Object.assign({method:"DELETE"},e))}static patch(r,e){return this.mFetch(r,Object.assign({method:"PATCH"},e))}static options(r,e){return this.mFetch(r,Object.assign({method:"OPTIONS"},e))}static head(r,e){return this.mFetch(r,Object.assign({method:"HEAD"},e))}static trace(r,e){return this.mFetch(r,Object.assign({method:"TRACE"},e))}static connect(r,e){return this.mFetch(r,Object.assign({method:"CONNECT"},e))}static requestInterception(r,e){A(this,m).request=r,A(this,m).error=e}static responseInterception(r,e){A(this,h).response=r,A(this,h).error=e}}h=new WeakMap,m=new WeakMap,g(p,h,{}),g(p,m,{});function V(t){window.addEventListener("DOMContentLoaded",()=>{const r=document.createElement("script");r.src=t,r.async=!0,document.head.appendChild(r)})}function x(t,{crossOrigin:r}){window.requestIdleCallback(()=>{const e=document.createElement("link");switch(e.href=t,e.rel="prefetch",new URL(t,typeof document>"u"&&typeof location>"u"?require("url").pathToFileURL(__filename).href:typeof document>"u"?location.href:document.currentScript&&document.currentScript.src||new URL("cryptoNet.umd.js",document.baseURI).href).host!==document.location.host&&(e.crossOrigin=r||"use-credentials"),t.split(".").pop()){case"css":e.as="style";break;case"png":e.as="image";break;default:e.as="fetch"}document.head.appendChild(e)})}function K(t,r,e,i){return new Promise((n,c)=>{const a=document.querySelector(t);function f(s){let l=null;return function(){clearTimeout(l),l=setTimeout(s,e)}}a.addEventListener("scroll",f(function(){const{scrollTop:s,offsetHeight:l,scrollHeight:y}=div;s+l>y-r&&n(!0)}))})}o.Axios=p,o.base64ToUtf16=d,o.decry=P,o.encodeData=S,o.encodeToBinary=E,o.encry=O,o.generateDigest=j,o.getEncryKey=D,o.preLoadScript=V,o.prefetchAsset=x,o.readArrayBuffer=F,o.readBlob=I,o.scrollLoad=K,o.sign=R,o.utf16ToBase64=u,o.verify=C,Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})});
